



sudo kubeadm init --apiserver-advertise-address=172.16.0.100 \
     --apiserver-cert-extra-sans=k8s1.tarams.local \
     --pod-network-cidr=192.168.0.0/16 \
     --service-cidr=10.96.0.0/12 \
     --kubernetes-version=v1.32.6
----------------------------------------------------------------


sudo kubeadm join 172.16.0.100:6443 --token 7us8bu.3i5orzxjl0pe8ifv \
	--discovery-token-ca-cert-hash sha256:0401aa15fc0d378f6f96e7980899697c4537ec24f45fc4d1271f92cd8ec08a92

#-----------------------------------------------------------------------------------------------------------------
# Calico
kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/operator-crds.yaml
kubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/tigera-operator.yaml

curl https://raw.githubusercontent.com/projectcalico/calico/v3.30.2/manifests/custom-resources.yaml -O

kubectl create -f custom-resources.yaml

#-----------------------------------------------------------------------------------------------------------------



#-----------------------------------------------------------------------------------------------------------------
# Metrics Server
kubectl apply -f https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml

kubectl patch deployment metrics-server -n kube-system --type='json' -p='[
  {
    "op": "add",
    "path": "/spec/template/spec/containers/0/args/-",
    "value": "--kubelet-insecure-tls"
  }
]'
#-----------------------------------------------------------------------------------------------------------------




#-----------------------------------------------------------------------------------------------------------------
# Longhorn
# Istio
# 

#-----------------------------------------------------------------------------------------------------------------